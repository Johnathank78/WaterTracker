/* Water Tracker – style.css (v3: rect gauge, bottom rail, multiple reminders) */
:root{
  --c-start:#1ac4ff;
  --c-end:#0a6bff;
  --bg:#f6fbff;
  --text:#0d1b2a;
  --muted:#64748b;
  --card:#ffffff;
  --danger:#ef4444;
  --radius:20px;
  --shadow:0 8px 30px rgba(2, 77, 175, .12);
}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  font:16px/1.45 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color:var(--text);
  background:var(--bg);
  scrollbar-width: none;
}
body::-webkit-scrollbar{ width:0; height:0; }

html, body{
  overscroll-behavior: none;
}

.app-header.simple{
  position:relative;
  padding:18px 16px 8px;
  display:flex; align-items:center; justify-content:center;
}
.app-header.simple .icon-btn{
  position:absolute; right:14px; top:12px;
  background:#e9eef6; color:#556;
  border:0; border-radius:12px; padding:8px 10px;
  cursor:pointer;
}
.logo{ height:120px; width:auto; filter: drop-shadow(0 4px 18px rgba(4,116,255,.18)); }

.home.with-rail{ max-width:680px; margin:0 auto; padding:0 16px calc(90px + env(safe-area-inset-bottom)); }

.progress-card{ display:flex; justify-content:center; margin:6px auto 16px; }
.gauge.rect{
  position:relative;
  width: max(60vw, 250px);
  height: min(70vh, 560px);
  border-radius:24px;
  background:linear-gradient(180deg, #fff, #fafdff);
  box-shadow:var(--shadow);
  border:3px solid rgba(7, 126, 255, .1);
  overflow:hidden;
}
.gauge.rect::before{
  content:"";
  position:absolute; inset:8px; border-radius:16px;
  background:linear-gradient(135deg, rgba(26,196,255,.08), rgba(10,107,255,.08));
}

menu{
    display: flex;
    flex-direction: column;
    padding: 0;
    margin: 0;
    margin-top: 10px;
    width: 100%;
    gap: 10px;
}

.gauge-center.on-water .percent-text{
  background: none !important;      /* on neutralise le dégradé */
  color:#fff;                        /* texte blanc */
  -webkit-text-fill-color:#fff;      /* WebKit */
  text-shadow:0 1px 2px rgba(0,0,0,.25); /* lisibilité sur l'eau */
}

#gaugeCanvas{ position:absolute; inset:0; width:100%; height:100%; display:block; }

.gauge-center{
  position:absolute; inset:0; display:flex; flex-direction:column;
  align-items:center; justify-content:center; text-align:center; padding:8px;
  z-index:3; pointer-events:none;
}
.progress-text{ font-weight:700 }
.percent-text{
  font-size:46px; font-weight:800;
  background:linear-gradient(90deg, var(--c-start), var(--c-end));
  -webkit-background-clip:text; background-clip:text; color:transparent;
  letter-spacing:-.5px;
}

/* Bottom profiles rail */
.bottom-rail{
  position:fixed; left:0; right:0; bottom:0;
  background:rgba(255,255,255,.9);
  backdrop-filter: saturate(120%) blur(10px);
  border-top:1px solid #e7f0ff;
  padding:8px calc(12px + env(safe-area-inset-right)) calc(10px + env(safe-area-inset-bottom)) calc(12px + env(safe-area-inset-left));
  z-index:10;
}
.rail-inner{ max-width:820px; margin:0 auto; }
.rail-title{ font-size:12px; color:var(--muted); margin:0 2px 4px }

.profiles-rail{
  display:flex; gap:10px; overflow:auto; padding:2px 2px 6px;
  scroll-snap-type:x mandatory;
  -ms-overflow-style:none; scrollbar-width:none;
}
.profiles-rail::-webkit-scrollbar{ display:none }
.rail-item{
  flex:0 0 auto; scroll-snap-align:start;
  display:flex; align-items:center; gap:8px;
  background:linear-gradient(180deg, rgba(26,196,255,.1), rgba(10,107,255,.06));
  border:1px solid #dbeaff; padding:10px 12px; border-radius:14px;
  cursor:pointer; white-space:nowrap;
}
.rail-item .icon{ font-size:18px }
.rail-item .ml{ font-weight:700 }

/* Dialogs & panels */
.goal, .reminder, .profiles-admin, .history{ background:var(--card); border-radius:var(--radius); padding:16px; box-shadow:var(--shadow); margin:10px 0 }
.goal-row{ display:flex; gap:10px; }
.goal-row.wrap{ flex-wrap:wrap }

input[type="number"], input[type="time"], input[type="text"], select{
  width:100%; padding:12px 12px;
  border-radius:12px; border:1px solid #e5efff;
  background: #fff;
  outline:none; transition:box-shadow .2s,border-color .2s;
}
input:focus, select:focus{ border-color:#b7d2ff; box-shadow:0 0 0 3px rgba(9,107,255,.12) }
label{ display:block; font-size:14px; margin:6px 0; color:#0f172a }
.muted{ color:var(--muted); font-size:13px }

/* Buttons */
.btn{
  --grad: linear-gradient(135deg, var(--c-start), var(--c-end));
  width: 100%;
  border:0; border-radius:12px; padding:10px 14px; cursor:pointer;
  background: var(--grad); color:#fff; font-weight:700;
  box-shadow:0 6px 18px rgba(12,112,255,.25);
  transition:transform .08s ease, opacity .15s;
}
.btn:active{ transform:scale(.98) }
.btn.ghost{ background:transparent; color:var(--text); box-shadow:none; border:1px solid #e5efff }
.btn.outline{ background:#fff; color:#0f172a; border:1px solid #cde1ff; box-shadow:none; }
.btn.danger{ background:linear-gradient(135deg,#ff6b6b,#ef4444); box-shadow:0 6px 18px rgba(239,68,68,.25) }
.btn.small{ padding:8px 10px; font-size:14px }
.actions-row.wrap{ display:flex; flex-wrap:wrap; gap:10px; margin-top:10px; justify-content:flex-end }

/* Settings dialog */
h4, h3{
    padding: 0;
    margin: 0;
}
.dialog{
  width:min(620px, 96vw);
  border:0; border-radius:16px; padding:0; padding-top: 15px; box-shadow:var(--shadow);
}
.dialog::backdrop{ background:rgba(3,26,66,.4) }
.dialog form{ padding:0 16px 16px }
.dialog-hd{
  display:flex; align-items:center; justify-content:space-between; padding: 0 0 10px 0;
}
.dialog-ft{ display:flex; justify-content:flex-end; gap:8px; margin-top:10px; }

.section-title{ display:flex; align-items:center; justify-content:space-between; gap:8px; flex-wrap:wrap; }
.responsive-actions{ display:flex; gap:8px; flex-wrap:wrap; width: 100%; }

/* Manage profiles list & history */
.manage-list .profile, .history-list li{
  display:flex; gap:10px; align-items:center;
  padding:8px 6px; border-bottom:1px dashed #e8f1ff;
}
.profile .actions{ margin-left:auto; display:flex; gap:6px; flex-wrap:wrap }
.profile .icon{ font-size:20px }
.history-list{ list-style:none; margin:10px 0 0; padding:0; }
.history-list .when{ color:var(--muted); font-size:12px; margin-left:auto }

/* Reminders list */
.reminders-list{ display:flex; flex-direction:column; gap:8px; margin:6px 0 10px }
.reminders-list .rule{
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 10px 12px;
  border: 1px solid #e7f0ff;
  border-radius: 12px;
  background: #fff;
}

.reminders-list .line1{
  font-size: 14px;
}

.reminders-list .line2{
  display: flex;
  justify-content: flex-end; /* bouton à droite */
}
.reminder-grid.add{ display:grid; grid-template-columns:1fr 1fr; gap:10px; align-items:end }
.reminder-grid.add.wrap .actions{ grid-column:span 2; display:flex; gap:10px; flex-wrap:wrap }

/* Utilities */
.sr-only{ position:absolute; width:1px; height:1px; padding:0; margin:-1px; overflow:hidden; clip:rect(0,0,0,0); white-space:nowrap; border:0 }
.icon-btn{ border:0; background:#eef2f7; color:#475569; padding:8px 10px; border-radius:12px; cursor:pointer }
